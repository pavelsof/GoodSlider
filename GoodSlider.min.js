/*
 http://www.apache.org/licenses/LICENSE-2.0 Apache License
 @requires jQuery 1.8 or later
 @version 0.1.0
*/
var GoodSlider=function(c){var a={currently_moving:!1,number_of_items:0,step:0,positions:[],teleportations:[],unseen_positions_left:0,unseen_positions_right:0,dom:{arrow_left:!1,arrow_right:!1,container:!1,items:!1,items_world:!1,portal:!1},settings:{animation:{duration:400,easing:"swing"},automation:{interval:!1,direction:"to_left"},callbacks:{movement:function(){}},elements:{container:".slider:first",items:".item",left_arrow:".arrow_left",right_arrow:".arrow_right"},endless:!1,height:!1,visible_items:5},
init:function(b){a.settings=$.extend(!0,a.settings,b);a.dom.container=a.settings.elements.container instanceof jQuery?a.settings.elements.container:$(a.settings.elements.container);a.dom.items=a.settings.elements.items instanceof jQuery?a.settings.elements.items:a.dom.container.find(a.settings.elements.items);a.dom.items.addClass("good_slider_item");a.dom.items.wrapAll('<div class="good_slider_items_world" />');a.dom.items_world=a.dom.items.parent(".good_slider_items_world");a.dom.items_world.wrapAll('<div class="good_slider_portal" />');
a.dom.portal=a.dom.items_world.parent(".good_slider_portal");a.number_of_items=a.dom.items.length;a.unseen_positions_left=0;a.unseen_positions_right=a.number_of_items-a.settings.visible_items;0>a.unseen_positions_right&&(a.settings.visible_items=a.number_of_items,a.unseen_positions_right=0);a.step=a.dom.items.outerWidth(!0);height=a.settings.height?a.settings.height:a.dom.items.outerHeight(!0)+"px";a.dom.items.css({clear:"none",display:"block","float":"left"});a.dom.items_world.css({height:height,
left:"0px",position:"absolute",top:"0px",width:a.number_of_items*a.step+"px"});a.dom.portal.css({height:height,margin:"0 auto",overflow:"hidden",position:"relative",width:a.step*a.settings.visible_items+"px"});a.dom.arrow_left=a.settings.elements.left_arrow instanceof jQuery?a.settings.elements.left_arrow:a.dom.container.find(a.settings.elements.left_arrow);a.dom.arrow_right=a.settings.elements.right_arrow instanceof jQuery?a.settings.elements.right_arrow:a.dom.container.find(a.settings.elements.right_arrow);
a.dom.arrow_left.click({direction:"to_right"},a.event_handlers.move);a.dom.arrow_right.click({direction:"to_left"},a.event_handlers.move);a.settings.automation.interval&&a.automation.start()},event_handlers:{move:function(b){b.preventDefault();a.move(b.data.direction)}},move:function(b){if(!0!=a.currently_moving){a.currently_moving=!0;a.automation.active&&a.automation.stop();if("to_right"==b){if(0==a.unseen_positions_left){if(!1==a.settings.endless){a.end_moving();return}a.teleportations.push(new a.factory.Teleportation("<"))}else a.unseen_positions_left--,
a.unseen_positions_right++;movement="+="+a.step+"px"}else{if(0==a.unseen_positions_right){if(!1==a.settings.endless){a.end_moving();return}a.teleportations.push(new a.factory.Teleportation(">"))}else a.unseen_positions_right--,a.unseen_positions_left++;movement="-="+a.step+"px"}if(0<a.positions.length)for(i=0;i<a.positions.length;i++)a.positions[i].move(b);a.dom.items_world.animate({left:movement},{duration:a.settings.animation.duration,easing:a.settings.animation.easing,complete:a.end_moving})}},
end_moving:function(){for(;a.teleportations.length;)teleportation=a.teleportations.shift(),teleportation.complete(),delete teleportation;a.settings.callbacks.movement();a.currently_moving=!1;a.settings.automation.interval&&a.automation.start()},convert_position_id:function(b){letter=b.substr(0,1).toUpperCase();if(-1==$.inArray(letter,["L","R","C"]))return!1;number=parseInt(b.substr(1,1));if(isNaN(number))return!1;if("C"==letter){if(0==a.settings.visible_items%2)return!1;half=(a.settings.visible_items-
1)/2;return number>half?!1:0==number?[{letter:"L",number:half+1}]:[{letter:"L",number:half-number+1},{letter:"R",number:half-number+1}]}return[{letter:letter,number:number}]},add_position:function(b,d){b=a.convert_position_id(b);if(!b)return!1;for(j=0;j<b.length;j++)position=new a.factory.Position,position.init(b[j].letter,b[j].number,d),a.positions.push(position);return!0},remove_position:function(b){if(0>=a.positions.length)return!1;b=a.convert_position_id(b);if(!b)return!1;$flag=!1;for(j=0;j<b.length;j++)for(i=
0;i<a.positions.length;i++)a.positions[i].from==b[j].letter&&a.positions[i].distance==b[j].number&&(a.positions.splice(i,1),$flag=!0);return $flag?!0:!1},factory:{Position:function(){var b={from:"L",distance:1,dom:!1,settings:{css_class:""},init:function(d,c,e){b.from=d;b.distance=c;b.settings=$.extend(b.settings,e);"L"==b.from?(index=a.unseen_positions_left+b.distance,index--,b.dom=a.dom.items.eq(index)):"R"==b.from&&(index=a.unseen_positions_right+b.distance,b.dom=a.dom.items.eq(-index));b.dom.addClass(b.settings.css_class)},
move:function(a){"to_right"==a?(b.dom.removeClass(b.settings.css_class),b.dom=b.dom.prev()):(b.dom.removeClass(b.settings.css_class),b.dom=b.dom.next());b.dom.addClass(b.settings.css_class)}};return b},Teleportation:function(b){Teleportation={direction:!1,dom:{source:!1,target:!1},init:function(b){Teleportation.direction=b;"<"==Teleportation.direction?(Teleportation.dom.source=a.dom.items_world.children(":last"),Teleportation.dom.target=Teleportation.dom.source.clone(),a.dom.items_world.prepend(Teleportation.dom.target).css({left:"-="+
a.step+"px",width:"+="+a.step+"px"})):">"==Teleportation.direction&&(Teleportation.dom.source=a.dom.items_world.children(":first"),Teleportation.dom.target=Teleportation.dom.source.clone(),a.dom.items_world.append(Teleportation.dom.target).css({width:"+="+a.step+"px"}));Teleportation.dom.source.removeClass("good_slider_item");Teleportation.dom.target.addClass("good_slider_item");a.dom.items=a.dom.container.find(".good_slider_item")},complete:function(){"<"==Teleportation.direction?(Teleportation.dom.source.remove(),
a.dom.items_world.css({width:"-="+a.step+"px"})):">"==Teleportation.direction&&(a.dom.items_world.css({left:"+="+a.step+"px",width:"-="+a.step+"px"}),Teleportation.dom.source.remove())}};Teleportation.init(b);return Teleportation}},automation:{active:!1,start:function(){interval=Number(a.settings.automation.interval);isNaN(interval)||(a.automation.active=window.setInterval(function(){a.move(a.settings.automation.direction)},interval))},stop:function(){window.clearInterval(a.automation.active)}},die:function(){a.automation.active&&
a.automation.stop();a.dom.arrow_left.unbind("click",a.event_handlers.move);a.dom.arrow_right.unbind("click",a.event_handlers.move);a.dom.items.unwrap().unwrap()}};a.init(c);return a};